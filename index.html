<!doctype html>
<html>
    <head>
        <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ“Ž</text></svg>">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>My Headless Storefront</title>
    </head>
    <style>
     body {
         font-family: 'Comic Sans MS', 'Chalkboard SE', 'Comic Neue', 'VGA';
         color: rgb(200, 0, 0);
         background-color: rgb(0, 0, 0);
         background-image: url(/assets/bg_stars.gif);
     }

     header {
         display: flex;
         flex-direction: row;
         justify-content: center;
         align-items: center;
     }

     header marquee {
         max-width: 20em;
     }

     .bouncer {
         position: absolute;
         top: 0;
         left: 0;
         width: 100vw;
         height: 100vh;
         overflow: hidden;
         z-index: +1000;
         pointer-events: none;
     }

     #product {
         width: 20em;
         height: 20em;
         border: 5px dashed green;
         background-color: black;
         padding: 1em;
         margin: auto;
     }

     .rainbow {
         letter-spacing: 5px;
         animation: colorRotate 3s linear 0s infinite;
     }

     @keyframes colorRotate {
         from {
             color: #6666ff;
         }
         10% {
             color: #0099ff;
         }
         50% {
             color: #00ff00;
         }
         75% {
             color: #ff3399;
         }
         100% {
             color: #6666ff;
         }
     }

     #buyNowButton {
         width: 15em;
         height: 5em;
         cursor: pointer;
     }

     /* smol screen, smol clippy */
     header img {
         width: 5em;
         height: 5em;
     }

     @media screen and (min-width: 665px) {
         /* We can afford to make clippy bigger, neat screen! */
         header img {
             width: 200px;
             height: 200px;
         }
     }
    </style>
    <body>
        <header>
            <img src="/assets/clippy.gif"/>
            <marquee>
                <h1>Clippy's custom storefront</h1>
            </marquee>
            <img src="/assets/clippy.gif"/>
        </header>

        <h2>Buy something!</h2>

        <div>
            <p>
                Current consent:
                <span>
                    <img width="30px" id="consent-m" src="/assets/bulb.png"/>
                    <img width="30px" id="consent-a" src="/assets/bulb.png"/>
                    <img width="30px" id="consent-p" src="/assets/bulb.png"/>
                    <img width="30px" id="consent-s" src="/assets/bulb.png"/>
                </span>
            </p>
        </div>

        <div id="product">
            <h2 id="productTitle" class="rainbow">
                Loading...
            </h2>
            <p>
                An amazing product fetched from our storefront.
            </p>
            <button id="buyNowButton">
                Click me to buy!
            </button>
        </div>

        <marquee class="bouncer"
            direction="down"
            width="100%"
            height="100%"
            behavior="alternate">
            So much API
            <marquee behavior="alternate"> Such headless! </marquee>
        </marquee>

        <script src="https://cdn.shopify.com/shopifycloud/privacy-banner/storefront-banner.js?shop=clippy4ever.myshopify.com"></script>
        <script src="/load-products.js"></script>
        <script src="/update-bulbs.js"></script>
        <script>
         // Change with your shop details
         const MYSHOPIFY_DOMAIN = 'clippy4ever.myshopify.com'
         const STOREFRONT_DOMAIN = 'headless.clippy4ever.store'
         const CHECKOUT_DOMAIN = 'clippy4ever.store'
         const SF_API_TOKEN = '29c878d9106f6e9f8779e83a6ad963c2'

         // Run banner if needed
         privacyBanner.loadBanner({shopDomain: MYSHOPIFY_DOMAIN, storefrontAccessToken: SF_API_TOKEN, checkoutRootDomain: CHECKOUT_DOMAIN, storefrontRootDomain: STOREFRONT_DOMAIN});

        </script>
    </body>
</html>
